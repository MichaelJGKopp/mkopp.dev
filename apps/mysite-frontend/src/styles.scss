@tailwind base;
@tailwind components;
@tailwind utilities;

/* You can add global styles to this file, and also import other style files */

// border box sizing
* {
  box-sizing: border-box;
}

// Typography styles for markdown content
@import 'highlight.js/styles/github-dark.css';

/* Override for light theme */
[data-theme='winter'] .prose pre,
[data-theme='light'] .prose pre {
  @apply bg-base-200;
}

[data-theme='winter'] .prose code:not(pre code),
[data-theme='light'] .prose code:not(pre code) {
  @apply bg-base-300 text-base-content;
}

/* Markdown prose styling - responsive font sizes */
.prose {
  @apply text-base-content;
  font-size: 0.95rem;
  line-height: 1.6;
  max-width: 100% !important;
  width: 100%;
}

@media (min-width: 768px) {
  .prose {
    font-size: 1rem;
    line-height: 1.7;
  }
}

@media (min-width: 1024px) {
  .prose {
    font-size: 1.0625rem;
    line-height: 1.75;
  }
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  @apply font-bold text-base-content mt-6 mb-3;
}

.prose h1 { 
  @apply text-xl md:text-2xl mt-8 mb-4; 
}
.prose h2 { 
  @apply text-lg md:text-xl mt-6 mb-3; 
}
.prose h3 { 
  @apply text-lg md:text-xl mt-4 mb-2; 
}

.prose p {
  @apply mb-4;
  overflow-wrap: break-word;
  word-wrap: break-word;
  max-width: 100%;
}

.prose pre {
  @apply bg-base-300 rounded-lg my-4;
  width: calc(100vw - 1rem); /* Full viewport width minus padding */
  max-width: 100%;
  // margin-left: -0.5rem; /* Negative margin to extend to edges */
  // margin-right: -0.5rem;
  padding: 0.75rem;
  overflow-x: auto;
  word-wrap: break-word;
  overflow-wrap: break-word;
  overflow-y: hidden; /* Prevent vertical scroll */
  /* Prevent the code block from triggering body scroll */
  position: relative;
}

@media (min-width: 640px) {
  .prose pre {
    width: 100%;
    margin-left: 0;
    margin-right: 0;
    padding: 1rem;
  }
}

.prose pre code {
  @apply bg-transparent p-0;
  display: block;
  white-space: pre;
  word-wrap: normal;
  overflow-wrap: normal;
  font-size: 0.75rem;
  line-height: 1.4;
}

@media (min-width: 768px) {
  .prose pre code {
    font-size: 0.875rem;
    line-height: 1.6;
  }
}

.prose code {
  @apply bg-base-200 px-1.5 py-0.5 rounded text-sm;
  font-size: 0.875em;
  overflow-wrap: break-word;
  word-wrap: break-word;
  max-width: 100%;
}

/* Light theme code readability */
[data-theme='winter'] .prose code,
[data-theme='light'] .prose code {
  @apply text-gray-800;
}

[data-theme='winter'] .prose pre code,
[data-theme='light'] .prose pre code {
  color: inherit;
}

.prose a {
  @apply text-primary hover:underline break-words;
}

.prose ul, .prose ol {
  @apply ml-4 md:ml-6 mb-4;
}

.prose li {
  @apply mb-2;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 italic my-4;
}

.prose img {
  @apply rounded-lg my-4 max-w-full h-auto;
}

/* Ensure all prose content respects container width */
.prose * {
  max-width: 100%;
  box-sizing: border-box;
}

/* Don't apply max-width to pre since we handle it specially */
.prose pre {
  max-width: none;
}

/* Force word breaks on long strings */
.prose p,
.prose li,
.prose td,
.prose th,
.prose h1,
.prose h2,
.prose h3 {
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Mermaid diagrams */
.prose .language-mermaid {
  @apply bg-transparent my-6;
  overflow-x: auto;
}

.prose .language-mermaid svg {
  max-width: 100%;
  height: auto;
}

/* Syntax highlighting overrides for better readability */
.hljs {
  @apply bg-base-300;
  padding: 1rem;
  overflow-x: auto;
}

[data-theme='winter'] .hljs,
[data-theme='light'] .hljs {
  background: #f6f8fa;
  color: #24292e;
}