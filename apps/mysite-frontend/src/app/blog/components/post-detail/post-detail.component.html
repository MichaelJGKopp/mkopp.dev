<div class="w-full px-4 sm:px-6 md:px-8 py-8 max-w-4xl mx-auto">
  @if (loading()) {
  <div class="flex justify-center items-center min-h-[400px]">
    <span class="loading loading-spinner loading-lg"></span>
  </div>
  } @else if (error()) {
  <div class="alert alert-error">
    <span>{{ error() }}</span>
  </div>
  } @else if (post()) {
  <article class="w-full overflow-hidden">
    <button (click)="goBack()" class="btn btn-ghost btn-sm mb-4">
      <fa-icon [icon]="faArrowLeft"></fa-icon>
      Back to Blog
    </button>

    <header class="mb-8">
      <h1 class="text-xl md:text-3xl font-bold mb-4 break-words">{{ post()!.title }}</h1>

      <div class="flex flex-wrap gap-4 text-sm text-base-content/70 mb-4">
        <div class="flex items-center gap-2">
          <fa-icon [icon]="faCalendar"></fa-icon>
          <span>{{ post()!.publishedAt | date:'longDate' }}</span>
        </div>
        <div class="flex items-center gap-2">
          <fa-icon [icon]="faUser"></fa-icon>
          <span>{{ post()!.authorName }}</span>
        </div>
      </div>

      @if (post()!.tags && post()!.tags.size > 0) {
      <div class="flex flex-wrap gap-2">
        @for (tag of post()!.tags; track tag) {
        <span class="badge badge-primary badge-md lg:badge-lg" [class.badge-outline]="isDarkMode()">
          <fa-icon [icon]="faTag" size="xs" class="mr-1"></fa-icon>
          {{ tag }}
        </span>
        }
      </div>
      }
    </header>

    <div class="prose prose-sm md:prose-base lg:prose-lg w-full max-w-full">
      <markdown [data]="post()!.content" (ready)="onMarkdownReady()">
      </markdown>
    </div>
  </article>
  }
</div>